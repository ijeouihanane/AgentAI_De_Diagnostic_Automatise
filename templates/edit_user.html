<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Modifier Utilisateur - Zen Networks Agent</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<style>
  body { margin:0; font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; background:#0d1117; color:#e6edf3; }
  .app { display:flex; height:100vh; overflow:hidden; }
  .sidebar { width:260px; background:#161b22; border-right:1px solid #30363d; display:flex; flex-direction:column; padding:16px; box-sizing:border-box; }
  .navbar-brand { color:#58a6ff; font-weight:700; padding:8px 0; display:block; text-align:left; margin-bottom:10px; }
  .content { flex:1; padding:20px; overflow:auto; max-width:600px; }
  .form-control { background:#161b22; color:#e6edf3; border:1px solid #30363d; border-radius:6px; }
  .btn-primary { background:#13879a; border:none; border-radius:6px; }
  .btn-secondary { background:#21262d; border:none; color:#e6edf3; border-radius:6px; }
</style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <a class="navbar-brand" href="/">Zen Networks Agent</a>
    <ul class="navbar-nav" style="padding-left:0; list-style:none;">
      <li class="nav-item"><a class="nav-link" href="/" style="color:#cfdbe2; display:block; padding:10px 8px; border-radius:8px; background:#21262d; margin-bottom:8px; text-decoration:none;">Accueil</a></li>
      <li class="nav-item"><a class="nav-link" href="/admin/users" style="color:#cfdbe2; display:block; padding:10px 8px; border-radius:8px; background:#117088; margin-bottom:8px; text-decoration:none;">Gestion Users</a></li>
      <li class="nav-item"><a class="nav-link" href="{{ url_for('logout') }}" style="color:#cfdbe2; display:block; padding:10px 8px; border-radius:8px; background:#21262d; text-decoration:none;">Déconnexion</a></li>
    </ul>
  </aside>

  <div class="content">
    <h2>Modifier l'utilisateur : {{ user.username }}</h2>
    <form method="POST" action="{{ url_for('edit_user', user_id=user.id) }}">
      <div class="mb-3">
        <label class="form-label">Username</label>
        <input type="text" name="username" class="form-control" value="{{ user.username }}" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" name="email" class="form-control" value="{{ user.email }}" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Rôle</label>
        <select name="role" class="form-control">
          <option value="user" {% if user.role == 'user' %}selected{% endif %}>User</option>
          <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Admin</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Mot de passe (laisser vide si inchangé)</label>
        <input type="password" name="password" class="form-control" placeholder="Nouveau mot de passe">
      </div>
      <div class="mb-3">
        <label class="form-label">Statut</label>
        <select name="estactif" class="form-control">
          <option value="1" {% if user.estactif %}selected{% endif %}>Actif</option>
          <option value="0" {% if not user.estactif %}selected{% endif %}>Inactif</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Enregistrer</button>
      <a href="/admin/users" class="btn btn-secondary">Annuler</a>
    </form>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
